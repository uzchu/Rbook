# 데이터 타입(Data type)

#### 1. 변수

**- 변수이름 규칙**

- 변수명은 알파벳, 숫자, `_`, `.` 으로 구성 `-`은 쓸 수 없음. 첫글자는 알파벳 혹은 . (.뒤엔 숫자 X)

**- 변수값 할당**

- `<-` ,`<<-`(전역변수) 또는 `=` 사용 (R에서는 `<-`쓰는게 좋음)



#### 2. 함수 호출 시 인자 지정

- 함수명(인자1,인자2,인자3='고정값',인자4='고정값)
- 인자의 이름은 인자1과 인자2를 구분할 수 있을 정도로만 명시해도 됨



#### 3. 스칼라

> 단일 차원의 값 ex) 숫자 1, 2, 3, ······
>
> 데이터 길이가 1인 벡터 (즉, 길이가 1인 배열)와 같음

**- 숫자** : 정수, 부동소수

**- NA** : 데이터 값이 없음을 뜻함 												  		>> is.na() 함수로 확인

**- NULL** : NULL객체를 뜻함. 변수가 초기화되지 않았을 때 사용	  >> is.null() 함수로 확인

- NA와 NULL의 차이

NA는 결측치, 즉 값이 빠져있는 경우이고 NULL은 값이 정해지지 않았을 때(미정)를 의미함

**- 문자열** : ' ' 혹은 " "로 묶어서 표현

**- 진리값** : TRUE(T) 와 FALSE(F), &(AND), 진리값에는 |(OR), !(NOT) 연산자 사용

**- 팩터** : 범주형 데이터(자료)를 표현하기 위한 데이터 타입 <-> 수치형(numerical)

- 관련함수

  - factor : 팩터값을 생성함

  ```R
  factor(
  	x,			#팩터로 표현하고자 하는 값(주로 문자열 벡터로 지정)
  	levels,		#값의 레벨
  	ordered		#TRUE면 순서, FALSE면 명목. FALSE가 디폴트
  )
  ```

  - nlevels : 팩터에서 레벨의 개수를 반환함

  - levels : 팩터에서 레벨의 목록을 반환함
  - is.factor : 주어진 값이 팩터인지를 판단함
  - ordered : 순서형 팩터를 생성함
  - is.ordered : 순서형 팩터인지를 판단함

- factor()는 기본적으로 순서가 없는 명목형 데이터를 만듦. 순서형을 원한다면 ordered()를 사용하거나 factor() 호출시 ordered = TRUE로 지정



#### 4. 벡터

> 다른 프로그래밍 언어에서 배열의 개념
>
> 한가지 스칼라 데이터 타입의 데이터를 저장할 수 있음 (즉, 숫자면 숫자만, 문자면 문자만 저장가능)
>
> 슬라이스 제공, 각 셀에 이름 부여 가능

**- 벡터 생성**

- 관련함수
  - c : 주어진 값들을 모아 벡터 생성
  - names : 객체이름 반환
  - names <- : 객체에 이름 저장
- 벡터 안에 벡터를 생성하면 단일차원의 벡터로 변경됨 (중첩 구조가 필요하면 리스트 사용)

**- 벡터 데이터 접근** : (인덱스를 사용하는 방법 / 이름을 사용하는 방법)

- 문법

  | 문법          | 의미                                                         |
  | :------------ | ------------------------------------------------------------ |
  | x[n]          | 벡터 x의 n번째 요소, n은 숫자 또는 셀의 이름을 뜻하는 문자열 |
  | x[-n]         | 벡터 x에서 n번째 요소를 제외한 나머지, 위와 동일             |
  | x[idx_vector] | 벡터 x로부터 idx_vector에 지정된 요소를 얻어옴. 이때 idx_vector는 색인을 표현하는 숫자벡터 또는 셀의 이름을 표현하는 문자열 벡터 |
  | x[start:end]  | 벡터 x의 start부터 end까지의 값을 반환함. 반환값은 start 위치 값과 end 위치 값을 모두 포함함 |

- 길이 관련함수

  - length : 객체의 길이를 반환
  - NROW : 배열의 행 또는 열의 수를 반환

**- 벡터연산** : 값을 하나씩 접근해 계산을 수행하거나 벡터 전체에 대해 한번에 수행하거나 집합처럼 취급해 집합연산(합집합, 교집합, 차집합)을 계산할 수 있음

- 벡터 연산 함수
  - identical : 객체가 동일한지를 판단
  - union : 합집합을 구함
  - interest : 교집합을 구함
  - setdiff : 차집합을 구함
  - setequal : 같은 집합인지 판단
- 벡터 연산자
  - value %in% x : 벡터 x에 value가 저장되어 있는지 판단
  - x + n : 벡터 x의 모든 요소에 n을 더한 벡터를 구함. (`*`,`/`,`-`,`=` 등 연산자 적용 가능)

**- 연속된 숫자로 구성된 벡터**

- 관련함수

  - seq : 시퀀스를 생성

  ```
  seq(from,to,by) 시작 값,끝 값, 증가치
  ```

  - seq_along : 주어진 인자 길이만큼 시퀀스 생성

  ```
  seq_along(along.with) ex) seq_along(5) >> [1] 1 2 3 4 5
  ```

**- 반복된 값을 저장한 벡터**

- 관련 함수

  - rep : 주어진 값을 반복함

  ```
  rep(x,times,each) 반복할 값, 전체벡터 반복횟수, 개별값 반복횟수
  ```



#### 5. 리스트

> '키, 값' 형태의  데이터를 담는 연관배열
>
> 벡터와 달리 서로 다른 데이터 타입을 담을 수 있음

**- 리스트 생성**

- 생성함수

  - list : 리스트 객체 생성

  ```
  list(key1=value1,key2=value2,...)
  ```

**- 리스트 데이터 접근**

- 문법

| 문법   | 의미                                   |
| ------ | -------------------------------------- |
| x$key  | 리스트 x에서 키 값 key에 해당하는 값   |
| x[n]   | 리스트 x에서 n번째 데이터의 서브리스트 |
| x[[n]] | 리스트 x에서 n번째 저장된 값           |



#### 6. 행렬

> 행,열로 구성된 구조
>
> 벡터와 마찬가지로 한가지 유형의 스칼라만 저장가능

**- 행렬생성**

- 관련함수
  - matrix : 행렬을 생성함 		열우선이 기본값 (byrow = T (행기준으로 채움))
  - dimnames : 객체의 차원에 대한 이름 가져옴
  - dimnames <- : 객체 차원에 이름 설정함
  - rownames(colnames) : 행(열)이름 가져옴
  - rownames(colnames) <- : 행(열)이름 설정함

**- 행렬 연산**

- 관련함수
  - t : 행렬 또는 데이터프레임의 전치행렬을 구함
    - 전치행렬 : 행과 열을 교환하여 나온 행렬
  - solve : 수식 a %*% x = b에서 x를 구함
  - nrow : 배열의 행의 수를 구함
  - ncol : 배열의 열의 수를 구함
  - dim : 객체의 차원 수를 구함
  - dim <- : 객체의 차원 수를 지정함
  - 행렬간 곱에는 `%*%` 사용



#### 7. 배열

> 행렬이 2차원이면 배열은 다차원 데이터

**- 배열 생성 및 접근**

-  관련함수

  - array : 배열을 생성함

  ```
  array(data,dim=length(data),dimnames) 저장한 벡터, 배열의 차원, 차원의 이름
  ex) array(1:12, dim=c(2,2,3))
  ```

  - dim : 데이터의 차원 알 수 있음



#### 8. 데이터 프레임

> 엑셀의 스프레드 시트와 같이 표 형태로 정리된 모습을 띔

**- 데이터 프레임 생성**

- 관련함수
  - data.frame : 데이터 프레임 생성함
- 문법

| 문법             | 의미                                                         |
| ---------------- | ------------------------------------------------------------ |
| d$colname        | 데이터 프레임 d에서 컬럼이름이 colname인 데이터를 접근       |
| d$colname <- y   | 데이터 프레임 d에서 컬럼 이름이 colname인 컬럼 데이터 y를 저장함.<br />만약 colname이 없는 새로운 이름이라면 새로운 컬럼이 추가됨 |
| d[m,n,drop=TRUE] | 데이터프레임 d의 m행n컬럼에 저장된 데이터<br />drop= TRUE 설정하면 반환 값은 해당 컬럼의 데이터 타입<br />drop=FALSE 설정하면 형태 유지함 |

- 유틸리티 함수
  - head : 객체의 처음 6개 부분 반환. 값 지정가능
  - tail : 객체의 뒷부분 6개 부분 반환. 값 지정가능
  - View : 데이터 뷰어 호출



#### 9. 타입 판별

- 데이터 타입 판별 함수

| 함수             | 의미                                  |
| ---------------- | ------------------------------------- |
| class(x)         | 객체 x의 클래스                       |
| str(x)           | 객체 x의 내부구조                     |
| is.factor(x)     | 주어진 객체 x가 팩터?                 |
| is.numeric(x)    | 주어진 객체 x가 숫자를 저장한 벡터?   |
| is.character(x)  | 주어진 객체 x가 문자열을 저장한 벡터? |
| is.matrix(x)     | 주어진 객체 x가 행렬?                 |
| is.array(x)      | 주어진 객체 x가 배열?                 |
| is.data.frame(x) | 주어진 객체 x가 데이터프레임?         |



#### 10. 타입 변환

- 데이터 타입 변환 함수

| 함수             | 의미                                        |
| ---------------- | ------------------------------------------- |
| as.factor(x)     | 주어진 객체 x를 팩터로 변환                 |
| as.numeric(x)    | 주어진 객체 x를 숫자를 저장한 벡터로 변환   |
| as.character(x)  | 주어진 객체 x를 문자열을 저장한 벡터로 변환 |
| as.matrix(x)     | 주어진 객체 x를 행렬로 변환                 |
| as.array(x)      | 주어진 객체 x를 배열로 변환                 |
| as.data.frame(x) | 주어진 객체 x를 데이터프레임로 변환         |

- as.typename()과 typename()함수의 차이

  : 지원하는 변환의 정도가 다름. as.typename()은 변환할 데이터 이상의 인자를 받지 않음.

  ```
  as.factor(c("m","f")) #레벨의 순서 지정 불가능
  [1] m f
  Levels : f m
  
  as.factor(c("m","f"), levels=c("m","f")) #레벨의 순서 지정가능
  [1] m f
  Levels : m f
  ```

